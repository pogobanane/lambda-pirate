From 43724fc67cddc7524eb20557889aff533ea809f8 Mon Sep 17 00:00:00 2001
From: Pogobanane <aenderboy@gmx.de>
Date: Tue, 8 Jun 2021 16:26:12 +0000
Subject: [PATCH] limit autoscaling for workloads

---
 configs/knative_workloads/helloworld.yaml       | 3 +++
 configs/knative_workloads/helloworldSerial.yaml | 3 +++
 configs/knative_workloads/helloworld_local.yaml | 3 +++
 configs/knative_workloads/pyaes.yaml            | 3 +++
 configs/knative_workloads/rnn_serving.yaml      | 3 +++
 5 files changed, 15 insertions(+)

diff --git a/configs/knative_workloads/helloworld.yaml b/configs/knative_workloads/helloworld.yaml
index 5f8b8fb..b8c0022 100644
--- a/configs/knative_workloads/helloworld.yaml
+++ b/configs/knative_workloads/helloworld.yaml
@@ -4,6 +4,9 @@ metadata:
   namespace: default
 spec:
   template:
+    metadata:
+      annotations:
+        autoscaling.knative.dev/maxScale: "2"
     spec:
       containers:
         - image: crccheck/hello-world:latest # Stub image. See https://github.com/ease-lab/vhive/issues/68
diff --git a/configs/knative_workloads/helloworldSerial.yaml b/configs/knative_workloads/helloworldSerial.yaml
index ad3fc6d..9fbc99a 100644
--- a/configs/knative_workloads/helloworldSerial.yaml
+++ b/configs/knative_workloads/helloworldSerial.yaml
@@ -4,6 +4,9 @@ metadata:
   namespace: default
 spec:
   template:
+    metadata:
+      annotations:
+        autoscaling.knative.dev/maxScale: "2"
     spec:
       containerConcurrency: 1
       containers:
diff --git a/configs/knative_workloads/helloworld_local.yaml b/configs/knative_workloads/helloworld_local.yaml
index 7f1643c..48b9f89 100644
--- a/configs/knative_workloads/helloworld_local.yaml
+++ b/configs/knative_workloads/helloworld_local.yaml
@@ -4,6 +4,9 @@ metadata:
   namespace: default
 spec:
   template:
+    metadata:
+      annotations:
+        autoscaling.knative.dev/maxScale: "2"
     spec:
       containers:
         - image: crccheck/hello-world:latest # Stub image. See https://github.com/ease-lab/vhive/issues/68
diff --git a/configs/knative_workloads/pyaes.yaml b/configs/knative_workloads/pyaes.yaml
index 0ef8c96..fdec066 100644
--- a/configs/knative_workloads/pyaes.yaml
+++ b/configs/knative_workloads/pyaes.yaml
@@ -4,6 +4,9 @@ metadata:
   namespace: default
 spec:
   template:
+    metadata:
+      annotations:
+        autoscaling.knative.dev/maxScale: "2"
     spec:
       containers:
         - image: crccheck/hello-world:latest # Stub image. See https://github.com/ease-lab/vhive/issues/68
diff --git a/configs/knative_workloads/rnn_serving.yaml b/configs/knative_workloads/rnn_serving.yaml
index 190a4ab..879f302 100644
--- a/configs/knative_workloads/rnn_serving.yaml
+++ b/configs/knative_workloads/rnn_serving.yaml
@@ -4,6 +4,9 @@ metadata:
   namespace: default
 spec:
   template:
+    metadata:
+      annotations:
+        autoscaling.knative.dev/maxScale: "2"
     spec:
       containers:
         - image: crccheck/hello-world:latest # Stub image. See https://github.com/ease-lab/vhive/issues/68
-- 
2.31.1

